"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9513],{9513:(T,b,a)=>{a.r(b),a.d(b,{SchooleLibraryPageModule:()=>U});var m=a(177),L=a(4341),n=a(8974),p=a(3799),S=a(467),o=a(4438),u=a(1626),f=a(7673),d=a(8141),h=a(9437),g=a(980),v=a(3366),_=a(5433),F=a(9732);let y=(()=>{var e;class s{constructor(i,r,l,c){this.apiService=i,this.http=r,this.appProp=l,this.loadingComponent=c,this.httpHeader={headers:new u.Lr({"Content-Type":"application/json"})},this.ipAddress=this.appProp.getHostName,this.getAllApiURL=this.ipAddress+"/v1/SchooleLibrary/getAllSchooleLibrarys",this.saveApiURL=this.ipAddress+"/v1/SchooleLibrary/saveSchooleLibrary",this.deleteApiURL=this.ipAddress+"/v1/SchooleLibrary/deleteSchooleLibrary",this.libByBranchStdApiURL=this.ipAddress+"/v1/SchooleLibrary/getLibDetlsByBranchStd",this.editApiURL=this.ipAddress+"/v1/SchooleLibrary/editsaveSchooleLibrary",this.ipAddress=l.getHostName}getLibDetlsByBranchStd(i,r){return console.log(this.libByBranchStdApiURL+"/"+i+"/"+r),this.loadingComponent.presentLoading("Fetching library details..."),this.http.get(this.libByBranchStdApiURL+"/"+i+"/"+r).pipe((0,d.M)(l=>console.log("Fetched library details successfully.")),(0,h.W)(this.handleError("Error while getting library details")),(0,g.j)(()=>this.loadingComponent.dismissLoading()))}getSchoolLibrary(){return this.loadingComponent.presentLoading("Fetching school libraries..."),this.http.get(this.getAllApiURL).pipe((0,d.M)(i=>console.log("Fetched all school libraries successfully.")),(0,h.W)(this.handleError("Error while getting school libraries")),(0,g.j)(()=>this.loadingComponent.dismissLoading()))}saveSchoolLibrary(i){return console.log("calling saveSchoolEvent "),console.log(this.saveApiURL),console.log(i),this.loadingComponent.presentLoading("Saving school library..."),this.http.post(this.saveApiURL,i).pipe((0,d.M)(r=>console.log("School library saved successfully.")),(0,h.W)(this.handleError("Error while saving school library")),(0,g.j)(()=>this.loadingComponent.dismissLoading()))}editSchoolLibrary(i){return console.log("calling editSchoolEvent "),console.log(this.editApiURL),console.log(i),this.loadingComponent.presentLoading("Editing school library..."),this.http.put(this.editApiURL,i).pipe((0,d.M)(r=>console.log("School library edited successfully.")),(0,h.W)(this.handleError("Error while editing school library")),(0,g.j)(()=>this.loadingComponent.dismissLoading()))}deleteSchoolLibrary(i){return console.log("calling deleteSchoolLibrary "),console.log(this.deleteApiURL+"/"+i),console.log(i),this.loadingComponent.presentLoading("Deleting school library..."),this.http.delete(this.deleteApiURL+"/"+i).pipe((0,d.M)(r=>console.log("School library deleted successfully.")),(0,h.W)(this.handleError("Error while deleting school library")),(0,g.j)(()=>this.loadingComponent.dismissLoading()))}handleError(i="operation",r){return l=>(console.error(l),console.log(`${i} failed: ${l.message}`),(0,f.of)(r))}}return(e=s).\u0275fac=function(i){return new(i||e)(o.KVO(v.G),o.KVO(u.Qq),o.KVO(_.e),o.KVO(F.q))},e.\u0275prov=o.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),s})();var j=a(4517);function R(e,s){if(1&e){const t=o.RV6();o.j41(0,"ion-segment-button",11),o.bIt("click",function(){const r=o.eBV(t).$implicit,l=o.XpG();return o.Njj(l.changeSegment(r.subjectName))}),o.j41(1,"ion-label"),o.EFF(2),o.k0s()()}if(2&e){const t=s.$implicit;o.R7$(2),o.JRh(t.subjectName)}}function C(e,s){if(1&e){const t=o.RV6();o.j41(0,"ion-card",13),o.bIt("click",function(){const r=o.eBV(t).$implicit,l=o.XpG(2);return o.Njj(l.changeSegment(r.subjectName))}),o.j41(1,"ion-card-header")(2,"ion-card-title"),o.EFF(3),o.k0s()(),o.j41(4,"ion-card-content"),o.EFF(5),o.k0s()()}if(2&e){const t=s.$implicit;o.R7$(3),o.SpI(" ",t.subjectName," "),o.R7$(2),o.SpI(" ",t.summaryDetails," ")}}function M(e,s){if(1&e&&(o.j41(0,"ion-list"),o.DNE(1,C,6,2,"ion-card",12),o.k0s()),2&e){const t=o.XpG();o.R7$(),o.Y8G("ngForOf",t.schoolLibraryList[0].subjectLibraryDetails)}}function k(e,s){if(1&e&&(o.j41(0,"ion-item")(1,"ion-label"),o.EFF(2),o.k0s(),o.j41(3,"ion-note",3),o.EFF(4),o.k0s()()),2&e){const t=s.$implicit;o.R7$(2),o.JRh(t.refName),o.R7$(2),o.JRh(t.refLink)}}function E(e,s){if(1&e&&(o.j41(0,"ion-item")(1,"ion-label"),o.EFF(2),o.k0s(),o.j41(3,"ion-note",3),o.EFF(4),o.k0s()()),2&e){const t=s.$implicit;o.R7$(2),o.JRh(t.refName),o.R7$(2),o.JRh(t.refLink)}}function P(e,s){if(1&e&&(o.j41(0,"ion-list")(1,"ion-card")(2,"ion-card-subtitle"),o.EFF(3,"Books Refrence"),o.k0s(),o.DNE(4,k,5,2,"ion-item",10),o.k0s(),o.j41(5,"ion-card")(6,"ion-card-subtitle"),o.EFF(7,"video Refrence"),o.k0s(),o.DNE(8,E,5,2,"ion-item",10),o.k0s()()),2&e){const t=o.XpG().$implicit;o.R7$(4),o.Y8G("ngForOf",t.libReferenceBook),o.R7$(4),o.Y8G("ngForOf",t.libReferencevideos)}}function $(e,s){if(1&e&&(o.j41(0,"div"),o.DNE(1,P,9,2,"ion-list",14),o.k0s()),2&e){const t=s.$implicit,i=o.XpG();o.R7$(),o.Y8G("ngIf",i.selectedSegment===t.subjectName)("ngIfElse","custom")}}let I=(()=>{var e;class s{constructor(i,r,l){this.schoolLibraryService=i,this.modalCtrl=r,this.navParams=l,this.selectedSegment="custom",this.branchId=this.navParams.get("branchId"),this.standardId=this.navParams.get("standardId")}getLibDetlsByBranchStd(){this.schoolLibraryService.getLibDetlsByBranchStd(this.branchId,this.standardId).subscribe(i=>{this.schoolLibraryList=i})}ngOnInit(){this.getLibDetlsByBranchStd()}changeSegment(i){this.selectedSegment=i}cancel(){return this.modalCtrl.dismiss(null,"cancel")}confirm(){return this.modalCtrl.dismiss(this.name,"confirm")}}return(e=s).\u0275fac=function(i){return new(i||e)(o.rXU(y),o.rXU(n.W3),o.rXU(j.y8))},e.\u0275cmp=o.VBU({type:e,selectors:[["app-schoole-library-model"]],decls:22,vars:5,consts:[["noItemsBlock",""],["slot","start"],[2,"text-align","center"],["slot","end"],[3,"click","strong"],[1,"ion-padding"],["value","custom","color","primary"],["value","custom",3,"click"],["value","libDetails.subjectName",3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngFor","ngForOf"],["value","libDetails.subjectName",3,"click"],["class","custom-card",3,"click",4,"ngFor","ngForOf"],[1,"custom-card",3,"click"],[4,"ngIf","ngIfElse"]],template:function(i,r){if(1&i){const l=o.RV6();o.j41(0,"ion-header")(1,"ion-toolbar"),o.nrm(2,"ion-buttons",1),o.j41(3,"ion-title",2),o.EFF(4),o.k0s(),o.j41(5,"ion-buttons",3)(6,"ion-button",4),o.bIt("click",function(){return o.eBV(l),o.Njj(r.confirm())}),o.EFF(7,"Close"),o.k0s()()()(),o.j41(8,"ion-content",5)(9,"ion-segment",6)(10,"ion-segment-button",7),o.bIt("click",function(){return o.eBV(l),o.Njj(r.changeSegment("custom"))}),o.j41(11,"ion-label"),o.EFF(12,"Subjects"),o.k0s()(),o.DNE(13,R,3,1,"ion-segment-button",8),o.k0s(),o.DNE(14,M,2,1,"ion-list",9)(15,$,2,2,"div",10),o.j41(16,"div",null,0)(18,"ion-card")(19,"ion-card-content")(20,"p"),o.EFF(21,"No items to display."),o.k0s()()()()()}2&i&&(o.R7$(4),o.SpI("School eLibrarydd ",r.branchId,""),o.R7$(2),o.Y8G("strong",!0),o.R7$(7),o.Y8G("ngForOf",r.schoolLibraryList[0].subjectLibraryDetails),o.R7$(),o.Y8G("ngIf","custom"===r.selectedSegment),o.R7$(),o.Y8G("ngForOf",r.schoolLibraryList[0].subjectLibraryDetails))},dependencies:[m.Sq,m.bT,n.Jm,n.QW,n.b_,n.I9,n.ME,n.HW,n.tN,n.W9,n.eU,n.uz,n.he,n.nf,n.JI,n.Gp,n.eP,n.BC,n.ai,n.Je],styles:["page-home[_ngcontent-%COMP%]   .custom-card[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0000001a}ion-segment[_ngcontent-%COMP%]{--background: #aa6bc1}ion-label[_ngcontent-%COMP%]{position:relative;display:inline-block;padding:5px 10px;background-color:#fff;border-radius:8px}ion-segment-button[_ngcontent-%COMP%], ion-segment[_ngcontent-%COMP%]{padding:0;margin:0}"]}),s})();var N=a(63);function D(e,s){if(1&e){const t=o.RV6();o.j41(0,"ion-row",5)(1,"ion-col")(2,"ion-card",6)(3,"ion-card-content")(4,"ion-card-title",7),o.bIt("click",function(){const r=o.eBV(t).$implicit,l=o.XpG();return o.Njj(l.openSchooleLibraryModal("NLR001",r.standardName))}),o.EFF(5),o.k0s()()()()()}if(2&e){const t=s.$implicit;o.R7$(5),o.JRh(t.standardName)}}const A=[{path:"",component:(()=>{var e;class s{constructor(i,r,l,c){this.router=i,this.schoolLibraryService=r,this.standardService=l,this.modalCtrl=c,this.message="This modal example uses the modalController to present and dismiss modals."}ngOnInit(){this.reFetchAllEvents()}reFetchAllEvents(){this.standardService.getSchoolStandard().subscribe(i=>{console.log(i),this.schoolStandardList=i})}openSchooleLibraryModal(i,r){var l=this;return(0,S.A)(function*(){const c=yield l.modalCtrl.create({component:I,componentProps:{branchId:i,standardId:r}});c.present();const{data:O,role:G}=yield c.onWillDismiss();"confirm"===G&&(l.message=`Hello, ${O}!`),l.reFetchAllEvents()})()}routePage(i){"landingPage"===i&&this.router.navigate(["tab1"])}}return(e=s).\u0275fac=function(i){return new(i||e)(o.rXU(p.Ix),o.rXU(y),o.rXU(N.X),o.rXU(n.W3))},e.\u0275cmp=o.VBU({type:e,selectors:[["app-schoole-library"]],decls:12,vars:3,consts:[[3,"fullscreen"],[3,"translucent"],["src","../../assets/images/SchooleDairyIcon.png",1,"eDairyHeadderHomeIcon",3,"click"],["size","8",1,"custom-col","ion-text-center"],["class","ion-align-items-center",4,"ngFor","ngForOf"],[1,"ion-align-items-center"],[1,"custom-card"],[3,"click"]],template:function(i,r){1&i&&(o.j41(0,"ion-content",0)(1,"ion-header",1)(2,"ion-toolbar")(3,"ion-grid")(4,"ion-row")(5,"ion-col")(6,"ion-img",2),o.bIt("click",function(){return r.routePage("landingPage")}),o.k0s()(),o.j41(7,"ion-col",3),o.EFF(8,"School eLibrary"),o.k0s(),o.nrm(9,"ion-col"),o.k0s()()()(),o.j41(10,"ion-grid"),o.DNE(11,D,6,1,"ion-row",4),o.k0s()()),2&i&&(o.Y8G("fullscreen",!0),o.R7$(),o.Y8G("translucent",!0),o.R7$(10),o.Y8G("ngForOf",r.schoolStandardList))},dependencies:[m.Sq,n.b_,n.I9,n.tN,n.hU,n.W9,n.lO,n.eU,n.KW,n.ln,n.ai],styles:[".custom-card[_ngcontent-%COMP%]{box-shadow:0 4px 8px #1101621a}.eDairyHeadderHomeIcon[_ngcontent-%COMP%]{width:50px;height:50px}"]}),s})()}];let B=(()=>{var e;class s{}return(e=s).\u0275fac=function(i){return new(i||e)},e.\u0275mod=o.$C({type:e}),e.\u0275inj=o.G2t({imports:[p.iI.forChild(A),p.iI]}),s})(),U=(()=>{var e;class s{}return(e=s).\u0275fac=function(i){return new(i||e)},e.\u0275mod=o.$C({type:e}),e.\u0275inj=o.G2t({imports:[m.MD,L.YN,n.bv,B]}),s})()}}]);