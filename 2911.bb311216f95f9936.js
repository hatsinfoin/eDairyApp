"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2911],{2911:(z,u,a)=>{a.r(u),a.d(u,{TimeTablePageModule:()=>$});var T=a(177),S=a(4341),r=a(8974),p=a(3799),b=a(467),f=a(681),e=a(4438),v=a(1626),y=a(7673),d=a(8141),m=a(9437),h=a(980),C=a(3366),P=a(5433),A=a(9732);let E=(()=>{var o;class n{constructor(t,i,s,c){this.apiService=t,this.http=i,this.appProp=s,this.loadingComponent=c,this.httpHeader={headers:new v.Lr({"Content-Type":"application/json"})},this.ipAddress=this.appProp.getHostName,this.getAllSchoolTimetableApiURL=this.ipAddress+"/v1/timetable/getAllTimetable",this.getAllTimetableByBranchIdStdURL=this.ipAddress+"/v1/timetable/getAllTimetableByBranchIdStd",this.saveSchoolTimetableURL=this.ipAddress+"/v1/timetable/saveTimetable",this.deleteSchoolTimetableApiURL=this.ipAddress+"/v1/timetable/deleteTimetable",this.editSchoolTimetableApiURL=this.ipAddress+"/v1/timetable/saveTimetable",this.ipAddress=s.getHostName}getAllSchoolTimetables(){return this.loadingComponent.presentLoading("Fetching school timetables..."),this.http.get(this.getAllSchoolTimetableApiURL).pipe((0,d.M)(t=>console.log("Fetched all school timetables successfully.")),(0,m.W)(this.handleError("Error while getting all school timetables")),(0,h.j)(()=>this.loadingComponent.dismissLoading()))}getAllSchoolTimetablesByBranchStd(t,i){return this.loadingComponent.presentLoading("Fetching school timetables..."),console.log(this.getAllTimetableByBranchIdStdURL+"/"+t+"/"+i),this.http.get(this.getAllTimetableByBranchIdStdURL+"/"+t+"/"+i).pipe((0,d.M)(s=>console.log("Fetched all school timetables successfully.")),(0,m.W)(this.handleError("Error while getting all school timetables")),(0,h.j)(()=>this.loadingComponent.dismissLoading()))}saveSchoolTimetable(t){return console.log("Calling saveSchoolTimetable"),console.log(this.saveSchoolTimetableURL),console.log(t),this.loadingComponent.presentLoading("Saving school timetable..."),this.http.post(this.saveSchoolTimetableURL,t).pipe((0,d.M)(i=>console.log("School timetable saved successfully.")),(0,m.W)(this.handleError("Error while saving school timetable")),(0,h.j)(()=>this.loadingComponent.dismissLoading()))}editSchoolTimetable(t){return console.log("Calling editSchoolTimetable"),console.log(this.editSchoolTimetableApiURL),console.log(t),this.loadingComponent.presentLoading("Editing school timetable..."),this.http.put(this.editSchoolTimetableApiURL,t).pipe((0,d.M)(i=>console.log("School timetable edited successfully.")),(0,m.W)(this.handleError("Error while editing school timetable")),(0,h.j)(()=>this.loadingComponent.dismissLoading()))}deleteSchoolTimetable(t){return console.log("Calling deleteSchoolTimetable"),console.log(this.deleteSchoolTimetableApiURL+"/"+t),console.log(t),this.loadingComponent.presentLoading("Deleting school timetable..."),this.http.delete(this.deleteSchoolTimetableApiURL+"/"+t).pipe((0,d.M)(i=>console.log("School timetable deleted successfully.")),(0,m.W)(this.handleError("Error while deleting school timetable")),(0,h.j)(()=>this.loadingComponent.dismissLoading()))}handleError(t="operation",i){return s=>(console.error(s),console.log(`${t} failed: ${s.message}`),(0,y.of)(i))}}return(o=n).\u0275fac=function(t){return new(t||o)(e.KVO(C.G),e.KVO(v.Qq),e.KVO(P.e),e.KVO(A.q))},o.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"}),n})();var F=a(357);function M(o,n){if(1&o&&(e.j41(0,"ion-col",13),e.EFF(1),e.k0s()),2&o){const l=n.$implicit;e.R7$(),e.SpI(" ",l.timing," ")}}function L(o,n){if(1&o&&(e.j41(0,"ion-col",17),e.EFF(1),e.k0s()),2&o){const l=n.$implicit;e.R7$(),e.SpI(" ",l.subject," ")}}function R(o,n){if(1&o&&(e.j41(0,"ion-row",14)(1,"ion-col",15),e.EFF(2),e.k0s(),e.DNE(3,L,2,1,"ion-col",16),e.k0s()),2&o){const l=n.$implicit;e.R7$(2),e.SpI(" ",l.day," "),e.R7$(),e.Y8G("ngForOf",l.periods)}}function B(o,n){if(1&o&&(e.j41(0,"ion-grid",7)(1,"ion-row")(2,"ion-col",8)(3,"h2"),e.EFF(4),e.k0s()()(),e.j41(5,"ion-row",9)(6,"ion-col",10),e.EFF(7,"Day"),e.k0s(),e.DNE(8,M,2,1,"ion-col",11),e.k0s(),e.DNE(9,R,4,2,"ion-row",12),e.k0s()),2&o){const l=n.$implicit;e.R7$(4),e.SpI("",l.standaredId," Timetable"),e.R7$(4),e.Y8G("ngForOf",null==l.timetable[0]?null:l.timetable[0].periods),e.R7$(),e.Y8G("ngForOf",l.timetable)}}const O=[{path:"",component:(()=>{var o;class n{constructor(t,i,s,c){this.router=t,this.timetableService=i,this.modalCtrl=s,this.storageService=c,this.message="This modal example uses the modalController to present and dismiss modals.",this.values=[],this.accordionGroupChange=g=>{const j=this.values.filter(I=>I!==g.detail.value);console.log(`Expanded: ${void 0===g.detail.value?"None":g.detail.value} | Collapsed: ${j.join(", ")}`)}}routePage(t){"landingPage"===t&&this.router.navigate(["tab1"])}ngOnInit(){this.getAllSchoolTimetablesByBranchStd()}openEventModal(){var t=this;return(0,b.A)(function*(){const i=yield t.modalCtrl.create({component:f.N,keyboardClose:!0});yield i.present();const{data:s,role:c}=yield i.onWillDismiss();"confirm"===c&&(t.message=`Hello, ${s}!`),t.getAllSchoolTimetablesByBranchStd()})()}openEditEventModal(t){var i=this;return(0,b.A)(function*(){const s=yield i.modalCtrl.create({component:f.N,componentProps:{data:t},keyboardClose:!0});yield s.present();const{data:c,role:g}=yield s.onWillDismiss();"confirm"===g&&(i.message=`Hello, ${c}!`),i.getAllSchoolTimetablesByBranchStd()})()}iterateSchoolEvents(t){for(const i of t)console.log(`Event Title: ${i._id}`),this.values.push(i._id)}reFetchAllTimetable(){this.timetableService.getAllSchoolTimetables().subscribe(t=>{console.log(t),this.schoolTimetableList=t})}deleteSchoolEvent(t){this.timetableService.deleteSchoolTimetable(t).subscribe(i=>{console.log(i),this.getAllSchoolTimetablesByBranchStd()})}editSchoolEvent(t){this.openEditEventModal(t)}duplicateSchoolEvent(t){t._id=null,console.log("Duplicate"),console.log(t),this.openEditEventModal(t)}getAllSchoolTimetablesByBranchStd(){var t=this;return(0,b.A)(function*(){const i=yield t.storageService.getStudentDetails();i&&t.timetableService.getAllSchoolTimetablesByBranchStd(i.branchId,i.branchId).subscribe(s=>{console.log(s),t.schoolTimetableList=s})})()}}return(o=n).\u0275fac=function(t){return new(t||o)(e.rXU(p.Ix),e.rXU(E),e.rXU(r.W3),e.rXU(F.n))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-time-table"]],decls:15,vars:3,consts:[[3,"translucent"],["src","../../assets/images/SchooleDairyIcon.png",1,"eDairyHeadderHomeIcon",3,"click"],["size","8",1,"custom-col","ion-text-center"],[3,"fullscreen"],["collapse","condense"],["size","large"],["class","timetable-container",4,"ngFor","ngForOf"],[1,"timetable-container"],["size","12",1,"timetable-header"],[1,"period-header-row"],["size","3"],["size","2","class","period-header",4,"ngFor","ngForOf"],["class","day-row",4,"ngFor","ngForOf"],["size","2",1,"period-header"],[1,"day-row"],["size","3",1,"day-name"],["size","2","class","period-subject",4,"ngFor","ngForOf"],["size","2",1,"period-subject"]],template:function(t,i){1&t&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-grid")(3,"ion-row")(4,"ion-col")(5,"ion-img",1),e.bIt("click",function(){return i.routePage("landingPage")}),e.k0s()(),e.j41(6,"ion-col",2),e.EFF(7," Time Table "),e.k0s(),e.nrm(8,"ion-col"),e.k0s()()()(),e.j41(9,"ion-content",3)(10,"ion-header",4)(11,"ion-toolbar")(12,"ion-title",5),e.EFF(13,"Time Table"),e.k0s()()(),e.DNE(14,B,10,3,"ion-grid",6),e.k0s()),2&t&&(e.Y8G("translucent",!0),e.R7$(9),e.Y8G("fullscreen",!0),e.R7$(5),e.Y8G("ngForOf",i.schoolTimetableList))},dependencies:[T.Sq,r.hU,r.W9,r.lO,r.eU,r.KW,r.ln,r.BC,r.ai],styles:[".eDairyHeadderHomeIcon[_ngcontent-%COMP%]{width:50px;height:50px}.timetable-container[_ngcontent-%COMP%]{margin:1rem;border:1px solid #ccc;border-radius:8px;background:#fff;box-shadow:0 2px 8px #0000001a;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.timetable-header[_ngcontent-%COMP%]{padding:1rem 0;text-align:center;border-bottom:2px solid #3880ff;color:#3880ff}.period-header-row[_ngcontent-%COMP%]{background-color:#f0f4ff;font-weight:600;border-bottom:1px solid #ccc}.period-header[_ngcontent-%COMP%]{text-align:center;padding:.5rem 0;font-size:.85rem;color:#555}.day-row[_ngcontent-%COMP%]{border-bottom:1px solid #eee}.day-name[_ngcontent-%COMP%]{font-weight:600;padding-left:1rem;display:flex;align-items:center;background-color:#fafafa;border-right:1px solid #eee}.period-subject[_ngcontent-%COMP%]{text-align:center;padding:.5rem 0;font-size:.9rem;color:#333}@media (max-width: 600px){.period-header[_ngcontent-%COMP%], .period-subject[_ngcontent-%COMP%]{font-size:.75rem;padding:.25rem 0}.day-name[_ngcontent-%COMP%]{font-size:.85rem}}"]}),n})()}];let U=(()=>{var o;class n{}return(o=n).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[p.iI.forChild(O),p.iI]}),n})(),$=(()=>{var o;class n{}return(o=n).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[T.MD,S.YN,r.bv,U]}),n})()}}]);