"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3590],{3590:(y,x,r)=>{r.r(x),r.d(x,{ExamsPageModule:()=>A});var f=r(177),m=r(4341),a=r(8974),p=r(3799),u=r(467),e=r(4438),S=r(1626),C=r(7673),c=r(8141),g=r(9437),h=r(980),P=r(3366),v=r(5433),F=r(9732);let M=(()=>{var n;class s{constructor(t,o,d,l){this.apiService=t,this.http=o,this.appProp=d,this.loadingComponent=l,this.httpHeader={headers:new S.Lr({"Content-Type":"application/json"})},this.ipAddress=this.appProp.getHostName,this.getAllSchoolStdApiURL=this.ipAddress+"/v1/exams/getAllExams",this.saveSchoolStdApiURL=this.ipAddress+"/v1/exams/saveExam",this.deleteSchoolStdApiURL=this.ipAddress+"/v1/exams/deleteStandard",this.editSchoolStdApiURL=this.ipAddress+"/v1/exams/saveExam",this.getStudentsbyBranchExamStndURL=this.ipAddress+"/v1/exams/getStudentsbyBranchExamStnd",this.ipAddress=d.getHostName}getSchoolExam(){return this.loadingComponent.presentLoading("Fetching school exams..."),this.http.get(this.getAllSchoolStdApiURL).pipe((0,c.M)(t=>console.log("Fetched all school exams successfully.")),(0,g.W)(this.handleError("Error while getting school exams")),(0,h.j)(()=>this.loadingComponent.dismissLoading()))}getStudentsbyBranchExamStnd(t,o,d){return this.loadingComponent.presentLoading("Fetching students by branch, exam, and standard..."),this.http.get(`${this.getStudentsbyBranchExamStndURL}/${t}/${o}/${d}`).pipe((0,c.M)(l=>console.log("Fetched students successfully.")),(0,g.W)(this.handleError("Error while fetching students by branch, exam, and standard")),(0,h.j)(()=>this.loadingComponent.dismissLoading()))}saveSchoolExam(t){return this.loadingComponent.presentLoading("Saving school exam..."),this.http.post(this.saveSchoolStdApiURL,t).pipe((0,c.M)(o=>console.log("School exam saved successfully.")),(0,g.W)(this.handleError("Error while saving school exam")),(0,h.j)(()=>this.loadingComponent.dismissLoading()))}editSchoolExam(t){return this.loadingComponent.presentLoading("Editing school exam..."),this.http.put(this.saveSchoolStdApiURL,t).pipe((0,c.M)(o=>console.log("School exam edited successfully.")),(0,g.W)(this.handleError("Error while editing school exam")),(0,h.j)(()=>this.loadingComponent.dismissLoading()))}deleteSchoolExam(t){return this.loadingComponent.presentLoading("Deleting school exam..."),this.http.delete(`${this.deleteSchoolStdApiURL}/${t}`).pipe((0,c.M)(o=>console.log("School exam deleted successfully.")),(0,g.W)(this.handleError("Error while deleting school exam")),(0,h.j)(()=>this.loadingComponent.dismissLoading()))}handleError(t="operation",o){return d=>(console.error(d),console.log(`${t} failed: ${d.message}`),(0,C.of)(o))}}return(n=s).\u0275fac=function(t){return new(t||n)(e.KVO(P.G),e.KVO(S.Qq),e.KVO(v.e),e.KVO(F.q))},n.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),s})();function b(n,s){if(1&n&&(e.j41(0,"ion-select-option",11),e.EFF(1),e.k0s()),2&n){const i=s.$implicit;e.Y8G("value",i),e.R7$(),e.JRh(i)}}function O(n,s){if(1&n&&(e.j41(0,"ion-select-option",11),e.EFF(1),e.k0s()),2&n){const i=s.$implicit;e.Y8G("value",i),e.R7$(),e.JRh(i)}}function j(n,s){if(1&n&&(e.j41(0,"ion-row")(1,"ion-col",9),e.EFF(2),e.k0s(),e.j41(3,"ion-col",9),e.EFF(4),e.k0s(),e.j41(5,"ion-col",9),e.EFF(6),e.k0s(),e.j41(7,"ion-col",9),e.EFF(8),e.k0s()()),2&n){const i=s.$implicit;e.R7$(2),e.JRh(i.subjectsId),e.R7$(2),e.JRh(i.standardId),e.R7$(2),e.JRh(i.examStudentResults.stRollNo),e.R7$(2),e.JRh(i.examStudentResults.marksObtained)}}function R(n,s){if(1&n&&(e.j41(0,"div"),e.DNE(1,j,9,4,"ion-row",10),e.k0s()),2&n){const i=s.$implicit,t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.filteredSubjects(i))}}const L=[{path:"",component:(()=>{var n;class s{constructor(t,o,d,l){this.router=t,this.examsService=o,this.modalCtrl=d,this.loadingCtrl=l,this.subjectFilter="",this.standardList=["LKG","UKG","FirstStandard","SecondStandard","ThirdStandard","ForthStandard","FifthStandard","SixthStandard","SeventhStandard","EighthStandard","NinethStandard","TehnthStandard"],this.examsList=["FA-1","FA-2","FA-3","FA-4","SA-1","SA-2"],this.isSelectDisabled=!1,this.selectedStandard="",this.selectedExam="",this.message="This modal example uses the modalController to present and dismiss modals."}routePage(t){"landingPage"===t&&this.router.navigate(["tab1"])}ngOnInit(){this.reFetchAllEvents("NLR001","FA-1","LKG")}reFetchAllEvents(t,o,d){var l=this;return(0,u.A)(function*(){yield l.presentLoading(),l.examsService.getStudentsbyBranchExamStnd(t,o,d).subscribe(E=>{console.log(E),l.exams=E,l.dismissLoading()})})()}presentLoading(){var t=this;return(0,u.A)(function*(){t.loading=yield t.loadingCtrl.create({message:"Please wait...",spinner:"crescent"}),yield t.loading.present()})()}dismissLoading(){var t=this;return(0,u.A)(function*(){t.loading&&(yield t.loading.dismiss())})()}filterSubjects(){return""===this.subjectFilter.trim()?this.exams:this.exams.filter(t=>t.examResultsSujects.some(o=>o.subjectsId.toLowerCase().includes(this.subjectFilter.toLowerCase())))}filteredSubjects(t){return""===this.subjectFilter.trim()?t.examResultsSujects:t.examResultsSujects.filter(o=>o.subjectsId.toLowerCase().includes(this.subjectFilter.toLowerCase()))}onStandardChange(t){console.log("Selected Standard:",t.detail.value),this.selectedStandard=t.detail.value,this.reFetchAllEvents("NLR001",this.selectedExam,t.detail.value)}onExamChange(t){console.log("Selected Standard:",t.detail.value),this.selectedExam=t.detail.value,this.reFetchAllEvents("NLR001",this.selectedExam,this.selectedStandard)}disableSelect(){this.isSelectDisabled=!0}enableSelect(){this.isSelectDisabled=!1}}return(n=s).\u0275fac=function(t){return new(t||n)(e.rXU(p.Ix),e.rXU(M),e.rXU(a.W3),e.rXU(a.Xi))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-exams"]],decls:40,vars:6,consts:[[3,"translucent"],["src","../../assets/images/SchooleDairyIcon.png",1,"eDairyHeadderHomeIcon",3,"click"],["size","8",1,"custom-col","ion-text-center"],[3,"fullscreen"],["label","Select Standard","placeholder","Select Standard",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],["label","Select Exam","placeholder","Select Exam",3,"ionChange"],["position","floating"],["debounce","500","placeholder","Enter subject name",3,"ngModelChange","ionInput","ngModel"],["size","3"],[4,"ngFor","ngForOf"],[3,"value"]],template:function(t,o){1&t&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-grid")(3,"ion-row")(4,"ion-col")(5,"ion-img",1),e.bIt("click",function(){return o.routePage("landingPage")}),e.k0s()(),e.j41(6,"ion-col",2),e.EFF(7,"Exams"),e.k0s(),e.nrm(8,"ion-col"),e.k0s()()()(),e.j41(9,"ion-content",3)(10,"ion-header")(11,"ion-toolbar")(12,"ion-title"),e.EFF(13,"Exams List"),e.k0s()()(),e.j41(14,"ion-content")(15,"ion-item")(16,"ion-select",4),e.bIt("ionChange",function(l){return o.onStandardChange(l)}),e.DNE(17,b,2,2,"ion-select-option",5),e.k0s()(),e.j41(18,"ion-item")(19,"ion-select",6),e.bIt("ionChange",function(l){return o.onExamChange(l)}),e.DNE(20,O,2,2,"ion-select-option",5),e.k0s()(),e.j41(21,"ion-item")(22,"ion-label",7),e.EFF(23,"Search by Subject"),e.k0s(),e.j41(24,"ion-input",8),e.mxI("ngModelChange",function(l){return e.DH7(o.subjectFilter,l)||(o.subjectFilter=l),l}),e.bIt("ionInput",function(){return o.filterSubjects()}),e.k0s()(),e.j41(25,"ion-grid")(26,"ion-row")(27,"ion-col",9)(28,"strong"),e.EFF(29,"Subject"),e.k0s()(),e.j41(30,"ion-col",9)(31,"strong"),e.EFF(32,"Standard"),e.k0s()(),e.j41(33,"ion-col",9)(34,"strong"),e.EFF(35,"Student Roll No"),e.k0s()(),e.j41(36,"ion-col",9)(37,"strong"),e.EFF(38,"Marks Obtained"),e.k0s()()(),e.DNE(39,R,2,1,"div",10),e.k0s()()()),2&t&&(e.Y8G("translucent",!0),e.R7$(9),e.Y8G("fullscreen",!0),e.R7$(8),e.Y8G("ngForOf",o.standardList),e.R7$(3),e.Y8G("ngForOf",o.examsList),e.R7$(4),e.R50("ngModel",o.subjectFilter),e.R7$(15),e.Y8G("ngForOf",o.exams))},dependencies:[f.Sq,m.BC,m.vS,a.hU,a.W9,a.lO,a.eU,a.KW,a.$w,a.uz,a.he,a.ln,a.Nm,a.Ip,a.BC,a.ai,a.Je,a.Gw],styles:[".eDairyHeadderHomeIcon[_ngcontent-%COMP%]{width:50px;height:50px}ion-content[_ngcontent-%COMP%]{--background: #f5f5f5;padding:10px}ion-header[_ngcontent-%COMP%]{background-color:#0074d9;color:#fff}ion-toolbar[_ngcontent-%COMP%]{background-color:#0074d9}ion-grid[_ngcontent-%COMP%]{margin-top:20px}ion-row[_ngcontent-%COMP%]{margin-bottom:10px}ion-col[_ngcontent-%COMP%]{padding:8px;font-size:14px}ion-col[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:16px;color:#333}ion-row[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;padding:10px}ion-row[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:5px;font-size:14px}ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:last-child{text-align:center}ion-card-header[_ngcontent-%COMP%]{background-color:#0074d9;color:#fff;padding:10px}ion-card-title[_ngcontent-%COMP%], ion-card-subtitle[_ngcontent-%COMP%]{color:#fff}ion-card[_ngcontent-%COMP%]{margin-top:15px;border-radius:8px;box-shadow:0 4px 6px #0000001a}ion-card-content[_ngcontent-%COMP%]{padding:15px;background-color:#fff}ion-card-header[_ngcontent-%COMP%]{background-color:#0074d9;color:#fff;padding:15px}ion-card-title[_ngcontent-%COMP%]{font-size:18px}ion-card-subtitle[_ngcontent-%COMP%]{font-size:14px}ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px;font-weight:700}ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#666}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#28a745;font-weight:700}ion-col[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700;text-align:center;font-size:16px}ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:10px;font-size:14px}@media (max-width: 600px){ion-col[_ngcontent-%COMP%]{font-size:12px}ion-card-content[_ngcontent-%COMP%]{padding:10px}}"]}),s})()}];let _=(()=>{var n;class s{}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[p.iI.forChild(L),p.iI]}),s})(),A=(()=>{var n;class s{}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[f.MD,m.YN,a.bv,_]}),s})()}}]);